<html>
<head>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
function randomIntFromInterval(min,max)
{
    return Math.floor(Math.random()*(max-min+1)+min);
}
$(document).ready(function() {

	console.log("ready to go");

	$.get("pokeapi/data/v2/csv/pokemon.csv", function(res) {
		var lines = res.split(/\n/);

		//remove line 1
		lines.splice(0,1);

		//remove specials
		lines = lines.filter(function(line) {
			var parts = line.split(",");
			return parseInt(parts[parts.length-1],10) === 1;
		});

		console.log(lines.length + " lines of data");
		var s = "";
		
		while(lines.length) {
			var chosen = randomIntFromInterval(0, lines.length-1);
			var poke = lines[chosen];
			var parts = poke.split(",");
			var sprite = "<img src=\"pokeapi/data/Pokemon_XY_Sprites/"+parts[0]+".png\">";
			s += "<tr><td>"+parts[0]+"</td><td>"+parts[1]+"</td><td>"+sprite+"</td></tr>";
			lines.splice(chosen,1);
		}
		
		$("table tbody").append(s);
	});
})
</script>
<style>
th {
width: 200px;
}
td {
text-align: center;
}
</style>
</head>
<body>
<table border="1">
<thead>
<tr><th>ID</th><th>Name</th><th>Sprite</th></tr>
</thead>
<tbody>
</tbody>
</table>
</body>
</html>